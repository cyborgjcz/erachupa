;
;D3D_SHOW_COMMAND
;유사3D 화면 밑에 커맨드 표시
;
@D3D_SHOW_COMMAND
#DIM DYNAMIC LCOUNT
#DIM DYNAMIC LCOUNT2
#DIM DYNAMIC LCOUNT3
#DIM DYNAMIC TOGREEN,3,2
#DIM DYNAMIC CURRENTCOLOR

PRINTBUTTON "［ｑ］←","q"
PRINTBUTTON "［ｗ］↑","w"
PRINTBUTTON "［ｅ］→","e"
PRINT_SPACE 400
PRINTBUTTON "［ｉ］아이템","i"
PRINTL
PRINTBUTTON "［ａ］↶","a"
PRINT_SPACE 40
PRINTBUTTON "［ｓ］↓","s"
PRINTBUTTON "［ｄ］↷","d"
PRINTL
PRINTBUTTON "［ｚ］상호작용","z"
PRINTL
;
;D3D_INPUT_COMMAND
;커맨드 처리
;
@D3D_INPUT_COMMAND
#DIM DYNAMIC KEYV
ONEINPUTS

KEYV = FINDELEMENT(D3D_TEXTBUTTONSYMBOL,RESULTS)
IF KEYV != -1
    IF D3D_TEXTBUTTON:KEYV
        CALL DUNGEON_FAR_EVENT(D3D_TEXTBUTTONCOORD:KEYV:0,D3D_TEXTBUTTONCOORD:KEYV:1)
    ENDIF
ELSE
    SELECTCASE RESULTS
        CASE "s"
            CALL D3D_MOVE_PLAYER(2)
        CASE "e"
            CALL D3D_MOVE_PLAYER(1)
        CASE "q"
            CALL D3D_MOVE_PLAYER(3)
        CASE "a"
            CALL D3D_CHANGE_DIRECTION(-1)
            RETURN 0
        CASE "w"
            CALL D3D_MOVE_PLAYER(0)
        CASE "d"
            CALL D3D_CHANGE_DIRECTION(1)
            RETURN 0
        CASE "z"
            CALL DUNGEON_INTERACT
        CASE "i"
            CALL ITEM_CONSUME_UI
        CASE ""
            RESTART
        CASEELSE
            CLEARLINE 1
            REUSELASTLINE
            RESTART
    ENDSELECT
ENDIF
IF !RESULT
    RETURN 0
ELSE
    RETURN 1
ENDIF